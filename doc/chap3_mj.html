<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<script type="text/javascript"
  src="http://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<title>GAP (QaoS) - Chapter 3: User Functions</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="generator" content="GAPDoc2HTML" />
<link rel="stylesheet" type="text/css" href="manual.css" />
<script src="manual.js" type="text/javascript"></script>
<script type="text/javascript">overwriteStyle();</script>
</head>
<body class="chap3"  onload="jscontent()">


<div class="chlinktop"><span class="chlink1">Goto Chapter: </span><a href="chap0_mj.html">Top</a>  <a href="chap1_mj.html">1</a>  <a href="chap2_mj.html">2</a>  <a href="chap3_mj.html">3</a>  <a href="chapInd_mj.html">Ind</a>  </div>

<div class="chlinkprevnexttop">&nbsp;<a href="chap0_mj.html">[Top of Book]</a>&nbsp;  <a href="chap0_mj.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap2_mj.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chapInd_mj.html">[Next Chapter]</a>&nbsp;  </div>

<p id="mathjaxlink" class="pcenter"><a href="chap3.html">[MathJax off]</a></p>
<p><a id="X804593297D7EEF68" name="X804593297D7EEF68"></a></p>
<div class="ChapSects"><a href="chap3_mj.html#X804593297D7EEF68">3 <span class="Heading">User Functions</span></a>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap3_mj.html#X85C611DA84B20597">3.1 <span class="Heading">Retrieve objects matching a query</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X7E5A109D86FCC355">3.1-1 QaosTransitiveGroup</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X7CA4E1EB7C13CE92">3.1-2 QaosNumberField</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X82D1C36A858682A5">3.1-3 QaosDefaultLimit</a></span>
</div></div>
<div class="ContSect"><span class="tocline"><span class="nocss">&nbsp;</span><a href="chap3_mj.html#X852F1AAA783D9548">3.2 <span class="Heading">Examine the contents of a database collection</span></a>
</span>
<div class="ContSSBlock">
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X831604EA7D31B9A8">3.2-1 QaosResult</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X831604EA7D31B9A8">3.2-2 QaosResult</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X7A0747F17B50D967">3.2-3 AsGroup</a></span>
<span class="ContSS"><br /><span class="nocss">&nbsp;&nbsp;</span><a href="chap3_mj.html#X796417E87CE2FDFF">3.2-4 AsField</a></span>
</div></div>
</div>

<h3>3 <span class="Heading">User Functions</span></h3>

<p><strong class="pkg">QaoS</strong> provides some user functions to obtain information from the databases. Currently, we support queries for transitive groups and algebraic number fields. The corresponding commands are <code class="func">QaosTransitiveGroup</code> (<a href="chap3_mj.html#X7E5A109D86FCC355"><span class="RefLink">3.1-1</span></a>) and <code class="func">QaosNumberField</code> (<a href="chap3_mj.html#X7CA4E1EB7C13CE92"><span class="RefLink">3.1-2</span></a>).</p>

<p><a id="X85C611DA84B20597" name="X85C611DA84B20597"></a></p>

<h4>3.1 <span class="Heading">Retrieve objects matching a query</span></h4>

<p><a id="X7E5A109D86FCC355" name="X7E5A109D86FCC355"></a></p>

<h5>3.1-1 QaosTransitiveGroup</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; QaosTransitiveGroup</code>( <var class="Arg">query</var>[, <var class="Arg">optarg</var>] )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>Return transitive groups matching <var class="Arg">query</var>. The amount of results is limited by the global variable <code class="func">QaosDefaultLimit</code> (<a href="chap3_mj.html#X82D1C36A858682A5"><span class="RefLink">3.1-3</span></a>). Optional argument <var class="Arg">optarg</var> is a record with some of the following components:</p>


<ul>
<li><p><code class="code">Action</code> (string)</p>


<ul>
<li><p>determine an action to perform on <var class="Arg">query</var></p>

</li>
<li><p>default value: "query"</p>

</li>
<li><p>possible values: "query", "count"</p>

</li>
</ul>
</li>
<li><p><code class="code">ColGroups</code> (list of strings)</p>


<ul>
<li><p>determine which result groups should be returned; results of <strong class="pkg">QaoS</strong> are usually grouped by a so-called `column group'. In the web interface these column groups are choosable by checking the corresponding name under the text field for the query.</p>

</li>
<li><p>default value: ["size","props","perm-struct"]</p>

</li>
<li><p>possible values: combinations of "size", "props", "perm-struct", "fp-struct"</p>

</li>
</ul>
</li>
<li><p><code class="code">Limit</code> (integer/string)</p>


<ul>
<li><p>determine how many results are retrieved (maximally)</p>

</li>
<li><p>default value: <code class="func">QaosDefaultLimit</code> (<a href="chap3_mj.html#X82D1C36A858682A5"><span class="RefLink">3.1-3</span></a>)</p>

</li>
<li><p>possible values: any positive integer or "all"</p>

</li>
</ul>
</li>
<li><p><code class="code">Offset</code> (integer/string)</p>


<ul>
<li><p>determine an offset on the set of results, this may be used to sequentially retrieve blocks of results.</p>

</li>
<li><p>default value: 0</p>

</li>
<li><p>possible values: any non-negative integer</p>

</li>
</ul>
</li>
</ul>
<p><a id="X7CA4E1EB7C13CE92" name="X7CA4E1EB7C13CE92"></a></p>

<h5>3.1-2 QaosNumberField</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; QaosNumberField</code>( <var class="Arg">query</var>[, <var class="Arg">optarg</var>] )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>Return number fields matching <var class="Arg">query</var>. The amount of results is limited by the global variable <code class="func">QaosDefaultLimit</code> (<a href="chap3_mj.html#X82D1C36A858682A5"><span class="RefLink">3.1-3</span></a>). Optional argument <var class="Arg">optarg</var> is a record with some of the following components:</p>


<ul>
<li><p><code class="code">Action</code> (string)</p>


<ul>
<li><p>determine an action to perform on <var class="Arg">query</var></p>

</li>
<li><p>default value: "query"</p>

</li>
<li><p>possible values: "query", "count"</p>

</li>
</ul>
</li>
<li><p><code class="code">ColGroups</code> (list of strings)</p>


<ul>
<li><p>determine which result groups should be returned; results of <strong class="pkg">QaoS</strong> are usually grouped by a so-called `column group'. In the web interface these column groups are choosable by checking the corresponding name under the text field for the query.</p>

</li>
<li><p>default value: ["size","struct","clsgroup","galgroup"]</p>

</li>
<li><p>possible values: combinations of "size", "struct", "clsgroup", "galgroup", "galprops"</p>

</li>
</ul>
</li>
<li><p><code class="code">Limit</code> (integer/string)</p>


<ul>
<li><p>determine how many results are retrieved (maximally)</p>

</li>
<li><p>default value: <code class="func">QaosDefaultLimit</code> (<a href="chap3_mj.html#X82D1C36A858682A5"><span class="RefLink">3.1-3</span></a>)</p>

</li>
<li><p>possible values: any positive integer or "all"</p>

</li>
</ul>
</li>
<li><p><code class="code">Offset</code> (integer/string)</p>


<ul>
<li><p>determine an offset on the set of results, this may be used to sequentially retrieve blocks of results.</p>

</li>
<li><p>default value: 0</p>

</li>
<li><p>possible values: any non-negative integer</p>

</li>
</ul>
</li>
</ul>
<p><a id="X82D1C36A858682A5" name="X82D1C36A858682A5"></a></p>

<h5>3.1-3 QaosDefaultLimit</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; QaosDefaultLimit</code></td><td class="tdright">(&nbsp;global variable&nbsp;)</td></tr></table></div>
<p>An Integer or String. Determine the (maximal) amount of results returned in a query. Usually, this can be overridden with the <code class="code">Limit</code>-component in optargs. The default value is 25. The value can be any positive integer or the string "all", in which case no limit is set and all results are returned. <em>CAUTION</em>: Setting this variable to "all" may result in exhaustive use of memory, network bandwidth, and time. Therefore, always consider to perform the count action on a query before loading all of the results. The database of number fields contains more than 1.35 million number field objects. Downloading them all means retrieving a string of approx. 1.8 GB length!!!</p>

<p>The following examples show their usage: Query for transitive groups of degree 4.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">QaosTransitiveGroup("d4");</span>
#I Retrieved 5 Transitive Groups.
#I (C) 2004-2005 QaoS developers &lt;kantdb@math.tu-berlin.de&gt;,
#I The Kant Project &lt;kant@math.tu-berlin.de&gt;
#I qaos--dev--1.0--patch-32
#I 2005-08-29 07:54:18 UTC
&lt;collection from database: 5 transitive groups; "d4"&gt;

</pre></div>

<p>Count transitive groups of degree 8.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">QaosTransitiveGroup("d8",rec(Action:="count"));</span>
#I (C) 2004-2005 QaoS developers &lt;kantdb@math.tu-berlin.de&gt;,
#I The Kant Project &lt;kant@math.tu-berlin.de&gt;
#I qaos--dev--1.0--patch-33
#I 2005-08-29 10:04:49 UTC
50 transitive group satisfy "d8"

</pre></div>

<p>Retrieve the first 25 transitive groups of degree 8.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">q1:=QaosTransitiveGroup("d8");</span>
#I Retrieved 25 Transitive Groups.
#I (C) 2004-2005 QaoS developers &lt;kantdb@math.tu-berlin.de&gt;,
#I The Kant Project &lt;kant@math.tu-berlin.de&gt;
#I qaos--dev--1.0--patch-33
#I 2005-08-29 10:08:50 UTC
&lt;collection from database: 25 transitive groups; "d8"&gt;

</pre></div>

<p>Now retrieve the next 25 results.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">q2:=QaosTransitiveGroup("d8",rec(Offset:=25));</span>
#I Retrieved 25 Transitive Groups.
#I (C) 2004-2005 QaoS developers &lt;kantdb@math.tu-berlin.de&gt;,
#I The Kant Project &lt;kant@math.tu-berlin.de&gt;
#I qaos--dev--1.0--patch-33
#I 2005-08-29 10:09:41 UTC
&lt;collection from database: 25 transitive groups; "d8"&gt;

</pre></div>

<p>Retrieve number fields of degree 4.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">QaosNumberField("d4");</span>
#I Retrieved 25 Algebraic Number Fields.
#I (C) 2004-2005 QaoS developers &lt;kantdb@math.tu-berlin.de&gt;,
#I The Kant Project &lt;kant@math.tu-berlin.de&gt;
#I qaos--dev--1.0--patch-32
#I 2005-08-29 07:55:11 UTC
&lt;collection from database: 25 number fields; "d4"&gt;

</pre></div>

<p>When either of these functions is called with no arguments a short general help is displayed:</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">QaosTransitiveGroup();</span>
QaosTransitiveGroup(&lt;query&gt; [, &lt;optarg&gt;]) -&gt; &lt;result&gt;
 
Searches the Algebraic Objects Database in Berlin.
The query string equals the keyword search method in the web surface.
See
&lt;URL&gt;http://qaos.math.tu-berlin.de/qaos/query.scm?type=trnsg&amp;action=Help&lt;/URL&gt;
for more information about the syntax and keywords.
 
Note: You must have `curl' (see &lt;URL&gt;http://curl.haxx.se&lt;/URL&gt;) installed and properly
configured in order to use &amp;QaoS; from within &amp;GAP;.
 
true

</pre></div>

<p>In this manual we also refer to the help screen of the web interface to obtain more detailed information about the query string.</p>

<p><a id="X852F1AAA783D9548" name="X852F1AAA783D9548"></a></p>

<h4>3.2 <span class="Heading">Examine the contents of a database collection</span></h4>

<p>In order to actually see the information there is a function called <code class="func">QaosResult</code> (<a href="chap3_mj.html#X831604EA7D31B9A8"><span class="RefLink">3.2-2</span></a>) which displays a list of retrieved objects.</p>

<p><a id="X831604EA7D31B9A8" name="X831604EA7D31B9A8"></a></p>

<h5>3.2-1 QaosResult</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; QaosResult</code>( <var class="Arg">database-collection</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>Return the list of retrieved objects in <var class="Arg">database-collection</var>. This function actually reveals the result of a query.</p>

<p><a id="X831604EA7D31B9A8" name="X831604EA7D31B9A8"></a></p>

<h5>3.2-2 QaosResult</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; QaosResult</code>( <var class="Arg">database-count</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>Return the (non-negative) integer of a count query (see <code class="code">Action</code>-component in optarg record).</p>

<p>Let us examine the groups behind a query for degree 8 abelian transitive groups.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Q:=QaosTransitiveGroup("d8 abelian");</span>
#I Retrieved 3 Transitive Groups.
#I (C) 2004-2005 QaoS developers &lt;kantdb@math.tu-berlin.de&gt;,
#I The Kant Project &lt;kant@math.tu-berlin.de&gt;
#I qaos--dev--1.0--patch-32
#I 2005-08-29 08:01:30 UTC
&lt;collection from database: 3 transitive groups; "d8 abelian"&gt;
gap&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">QaosResult(Q);</span>
[ &lt;transitive group from database: C(8) = 8; id 39&gt;,
  &lt;transitive group from database: 4[x]2; id 40&gt;,
  &lt;transitive group from database: E(8) = 2[x]2[x]2; id 41&gt; ]

</pre></div>

<p>To use the retrieved group objects in <strong class="pkg">GAP</strong> you may use the <code class="func">AsGroup</code> (<a href="chap3_mj.html#X7A0747F17B50D967"><span class="RefLink">3.2-3</span></a>) operation on a result.</p>

<p><a id="X7A0747F17B50D967" name="X7A0747F17B50D967"></a></p>

<h5>3.2-3 AsGroup</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; AsGroup</code>( <var class="Arg">database-group-object</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>Return the <strong class="pkg">GAP</strong> group object representing <var class="Arg">database-group-object</var>. If <var class="Arg">database-group-object</var> cannot be turned into a group, return <code class="keyw">fail</code>.</p>

<p>From the above example, let us <strong class="pkg">GAP</strong>-ify the third group object.</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsGroup(QaosResult(Q)[3]);</span>
Group([ (1,8)(2,3)(4,5)(6,7), (1,3)(2,8)(4,6)(5,7), (1,5)(2,6)(3,7)(4,8) ])

</pre></div>

<p>For number field objects the corresponding operation is <code class="func">AsField</code> (<a href="chap3_mj.html#X796417E87CE2FDFF"><span class="RefLink">3.2-4</span></a>).</p>

<p><a id="X796417E87CE2FDFF" name="X796417E87CE2FDFF"></a></p>

<h5>3.2-4 AsField</h5>

<div class="func"><table class="func" width="100%"><tr><td class="tdleft"><code class="func">&#8227; AsField</code>( <var class="Arg">database-field-object</var> )</td><td class="tdright">(&nbsp;function&nbsp;)</td></tr></table></div>
<p>Return the <strong class="pkg">GAP</strong> field object representing <var class="Arg">database-field-object</var>. If <var class="Arg">database-field-object</var> cannot be turned into a field, return <code class="keyw">fail</code>.</p>

<p>Consider following example for number fields (number fields of degree 5 with absolute discrimnant between 100000 and 120000 and non-trivial class group):</p>


<div class="example"><pre>

<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">R:=QaosNumberField("d5 |disc| &gt;=100000 |disc| &lt;=120000 cn&gt;1");</span>
#I Retrieved 18 Algebraic Number Fields.
#I (C) 2004-2005 QaoS developers &lt;kantdb@math.tu-berlin.de&gt;,
#I The Kant Project &lt;kant@math.tu-berlin.de&gt;
#I qaos--dev--1.0--patch-32
#I 2005-08-29 08:32:35 UTC
&lt;collection from database: 18 number fields; "d5 |disc| &gt;=100000 |disc| &lt;=120000 cn&gt;1"&gt;
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">QaosResult(R);</span>
[ &lt;number field from database: x_1^5+x_1^4-2*x_1^2+7*x_1+1; id 843712&gt;,
  &lt;number field from database: x_1^5+x_1^4+2*x_1^3-4*x_1^2+2*x_1-1; id 843791&gt;,
  &lt;number field from database: x_1^5+2*x_1^4-2*x_1^3+2*x_1^2+x_1+4; id 843841&gt;,
  &lt;number field from database: x_1^5+x_1^4+4*x_1^3+4*x_1-1; id 843892&gt;,
  &lt;number field from database: x_1^5+x_1^4+x_1^3+4*x_1^2+3*x_1-1; id 843894&gt;,
  &lt;number field from database: x_1^5+x_1^4-3*x_1^3-2*x_1^2+6*x_1-4; id 843897&gt;,
  &lt;number field from database: x_1^5+2*x_1^3+2*x_1^2+4*x_1+1; id 843930&gt;,
  &lt;number field from database: x_1^5+2*x_1^4+6*x_1^3+4*x_1^2+4*x_1-1; id 843955&gt;,
  &lt;number field from database: x_1^5+x_1^4-4*x_1^2+2*x_1+1; id 844004&gt;,
  &lt;number field from database: x_1^5+4*x_1^2+1; id 844011&gt;,
  &lt;number field from database: x_1^5+2*x_1^4+3*x_1^3+2*x_1^2-3*x_1+1; id 844036&gt;,
  &lt;number field from database: x_1^5+x_1^4+3*x_1^3+2*x_1^2+8*x_1-1; id 844043&gt;,
  &lt;number field from database: x_1^5+x_1^4+5*x_1^3+5*x_1^2+2*x_1+1; id 844062&gt;,
  &lt;number field from database: x_1^5+2*x_1^4-3*x_1^3+6*x_1^2-3*x_1+1; id 844066&gt;,
  &lt;number field from database: x_1^5+x_1^4-x_1^3-4*x_1^2+5*x_1-1; id 844082&gt;,
  &lt;number field from database: x_1^5+2*x_1^4-x_1^3-3*x_1^2+4*x_1+1; id 844107&gt;,
  &lt;number field from database: x_1^5+x_1^4+2*x_1^3+3*x_1^2-2*x_1+1; id 844110&gt;,
  &lt;number field from database: x_1^5+2*x_1^4-6*x_1^3+5*x_1^2-2*x_1+1; id 844145&gt; ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">AsField(QaosResult(R)[4]);</span>
&lt;field in characteristic 0&gt;

</pre></div>


<div class="chlinkprevnextbot">&nbsp;<a href="chap0_mj.html">[Top of Book]</a>&nbsp;  <a href="chap0_mj.html#contents">[Contents]</a>&nbsp;  &nbsp;<a href="chap2_mj.html">[Previous Chapter]</a>&nbsp;  &nbsp;<a href="chapInd_mj.html">[Next Chapter]</a>&nbsp;  </div>


<div class="chlinkbot"><span class="chlink1">Goto Chapter: </span><a href="chap0_mj.html">Top</a>  <a href="chap1_mj.html">1</a>  <a href="chap2_mj.html">2</a>  <a href="chap3_mj.html">3</a>  <a href="chapInd_mj.html">Ind</a>  </div>

<hr />
<p class="foot">generated by <a href="http://www.math.rwth-aachen.de/~Frank.Luebeck/GAPDoc">GAPDoc2HTML</a></p>
</body>
</html>
